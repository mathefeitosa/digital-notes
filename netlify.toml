# Upload endpoint for markdown notes
[[redirects]]
  from = "/api/upload-note"
  to = "/.netlify/functions/upload-note"
  status = 200

# The following redirect is intended for use with most SPAs that handle
# routing internally.
[[redirects]]
  from = "/*"
  to = "/index.html"
  status = 200

[[headers]]
  # Define which paths this specific [[headers]] block will cover.
  for = "/*"
    [headers.values]
    Access-Control-Allow-Origin = "*"

[build]
  publish = "_site"
  command = "bundle config set path 'vendor/bundle' && bundle install && bundle exec jekyll build"

[build.environment]
  NODE_VERSION = "22"

[functions]
  directory = "netlify/functions"
